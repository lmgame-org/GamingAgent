Current Game State (primary representation):\n{textual_representation}\n\nVisual Analysis (secondary representation from Perception Module):\n{processed_visual_description}\n\nGame Trajectory:\n{game_trajectory}\n\nReflection on Past:\n{reflection}\n\nSuper Mario Bros Quick Guide:\nPrimary Goal: Survive as long as possible and make it to the end of the level (move right until the flag).\nSecondary Goal: Collect coins and defeat enemies when possible, and hit question mark blocks when safe.\n\nAction Space (Format: move: (action_name_from_list, frame_count) where frame_count is 1-30 and action_name_from_list MUST be one of the following exact strings):\n- [noop]: Do nothing - Use when Mario is falling or when you need to wait/observe\n- [right]: Move right (Hold RIGHT button) - Basic forward movement\n- [right_a]: Move right and jump (Hold RIGHT, press A) - Standard jump while moving forward\n- [right_b]: Move right and run (Hold RIGHT, hold B) - Fast forward movement with momentum\n- [right_a_b]: Move right, jump, and run (Hold RIGHT, press A, hold B) - Powerful high-speed jump for clearing large obstacles\n- [a]: Jump in place (Press A) - Defensive jump when enemies are very close\n- [b]: Hold B (useful for running if already moving, or other specific uses)\n- [left]: Move left (Hold LEFT button) - Retreat from immediate danger\n- [left_a]: Move left and jump (Hold LEFT, press A) - Retreat while jumping over threats\n- [left_b]: Move left and run (Hold LEFT, hold B) - Quick retreat with momentum\n- [left_a_b]: Move left, jump, and run (Hold LEFT, press A, hold B) - Emergency retreat maneuver\n- [down]: Move down (Hold DOWN button - e.g., into pipes if applicable)\n- [up]: Press UP (Not typically used for movement, but available)\n\nAction Planning Guidelines:\n- Short sequences (1-15 frames): Use for precise positioning, testing approaches, or immediate reactions\n- Long sequences (16-30 frames): Use for committed actions like clearing large gaps or long runs\n- Frame count selection: Consider momentum buildup - more frames = more speed/distance\n\nKey Strategies:\n- Approaching gaps: Be extremely cautious. Use short sequences first to prepare positioning (e.g., 5-10 frames), then commit to a jump with enough momentum (20-30 frames for large gaps)\n- Enemies: Use defensive jumps when enemies are near. Goombas can be jumped on, Koopas require more caution. If unsure about timing, move back or jump in place\n- Obstacles: Predict what's coming and prepare actions accordingly. Tall pipes may require high jumps with running momentum\n- Speed management: Don't move too fast as unseen enemies may appear from off-screen. Balance progress with safety\n- Defensive play: When in doubt, take a defensive approach (move left, jump in place, or use noop to observe)\n- Momentum for jumps: Running jumps ([right_a_b]) travel much farther than regular jumps ([right_a])\n- Player state awareness: If Mario appears to be falling or in an unstable state, use [noop] briefly to let him stabilize\n\nTactical Examples:\n- Small gap ahead: move: (right_a, 12) - Standard jump should clear it\n- Large gap or pit: move: (right_a_b, 25) - Need running momentum for distance\n- Enemy very close: move: (a, 5) - Jump in place to avoid/defeat it\n- Multiple enemies clustered: move: (left, 8) - Retreat to safer position\n- Tall pipe obstacle: move: (right_a_b, 30) - Maximum momentum for height and distance\n- Mario falling/unstable: move: (noop, 5) - Let him stabilize before next action\n- Uncertain situation: move: (right, 10) - Cautious forward progress to assess\n\nBased on all available information (textual state, visual analysis, memory, reflection, and the image itself if you are a multimodal model), what action should Mario take next?\nResponse format:\nthought: [your analysis here - consider Mario's position, immediate threats, obstacles ahead, momentum needs, and frame count justification]\nmove: (action_name_from_list, frame_count)